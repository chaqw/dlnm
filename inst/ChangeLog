==============================================================================
Changes in dlnm 2.2.2 (15 Mar 2016)
===================================

Major changes
-------------

    o Centering procedure moved from onebasis() to crosspred()-crossreduce().
      This change simplifies the steps of obtaining predictions with different
      references, as it avoids refitting the model. At the moment the inclusion 
      of 'ce' in onebasis()-crossbasis() generates a warning, but the info is
      kept internally and the old code should still work.
      
    o Consistently withe the change above, crosspred()-crossreduce() now have
      a 'cen' argument to specify the reference value.
      
    o Major changes in crosspred()-crossreduce(), with several auxiliary
      functions build to simplify the internal code. Specifically: mkat(),
      mkcen(), mklag(), mkXpred(). See the related help page.

    o New import of the function tensor.prod.model.matrix() from mgcv, to
      simplify the computation of the tensor product in crosspred().
      
    o Published code has been updated accordingly, and included in the related
      web pages at http://www.ag-myresearch.com/. The function attrdl() (not
      included in the package but used in published code) has been changed as
      well.
      
Minor changes
-------------

    o Changed default for colour (now black) and frame (now bty=”l”) in
      plotting functions.
      
    o Namespace changed accordingly, with imports from mgcv.

    o Lag2() removed, back to Lag() imported from package tsModel.

    o Documentation changed accordingly, references updated.
    
    
==============================================================================
Changes in dlnm 2.1.4 (15 Jan 2015)
===================================

Minor changes
-------------

    o Changes in function strata(), now with possibility of setting 'ref=0',
      thus obtaining a different dummy parameterization.

    o Changes in summary.crossbasis() to print only a subset of long arguments


==============================================================================
Changes in dlnm 2.1.4 (14 Aug 2014)
===================================

Minor changes
-------------

    o Bug fixed in plot()-points()-lines() methods when model.link was not
      provided.


==============================================================================
Changes in dlnm 2.1.3 (05 Aug 2014)
===================================

Minor changes
-------------

    o Bug fixed in function integer() when int=FALSE for lag-response.


==============================================================================
Changes in dlnm 2.1.2 (24 Jul 2014)
===================================

Minor changes
-------------

    o Negative lag can now be specified in crossbasis(), although presumably
      rarely needed.


==============================================================================
Changes in dlnm 2.1.0 (21 May 2014)
===================================

Minor changes
-------------

    o Added attribute 'df' in crossbasis objects, with df for each dimension.

    o Adjustment to the example on seasonal analysis.

    o References corrected.


==============================================================================
Changes in dlnm 2.0.9 (01 Apr 2014)
===================================

Major changes
-------------

    o Function strata() now accepts an additional argument 'ref' to select the
      reference category. Also, the intercept is now defined as a vector of 1's.

    o Old functions crossplot(), mkbasis() and mklagbasis() removed.

Minor changes
-------------

    o Functions now defined with unquoted names (problem with RStudio).

    o Internal functions now defined with names without initial dots.

    o checkgroup modified: now number of obs in each groups can also be less
      than df in argvar. Required in previous versions, not anymore.

    o Documentation changed accordingly, references updated.


==============================================================================
Changes in dlnm 2.0.6 (17 Oct 2013)
===================================

Minor changes
-------------

    o Included function equalknots() to place knots at equally-spaced values.

    o Changes in .get-() functions to allow changes in lme4 objects.

    o Error fixed in examples of vignette dlnmExtended.


==============================================================================
Changes in dlnm 2.0.3 (10 Sept 2013)
===================================

See also: file.show(system.file("Changesince200",package="dlnm"))

Major changes
-------------

    o The usage of functions crossbasis() and onebasis() has been extensively
      revised, as detailed below. The old usage is maintained with a warning for
      compatibility reasons. However, the old usage can return now different 
      results if compared to previous versions. See the file Changesince200
      using the link above.

    o The functions in dlnm can now be used also for data other than time
      series. The only difference is the inclusion of a matrix of lagged
      occurrences as the 'x' argument of crossbasis, instead than the usual 
      vector of time series data. The extension is detailed in the article
      Gasparrini Stat Med 2013 and in the new vignette 'dlnmExtended'.

    o The functions onebasis() now calls existing functions for generating the
      basis matrix. The functions poly(), strata(), thr(), integer() and lin()
      have been added, although not exported in the namespace. User-defined
      functions with attributes reporting the arguments exactly defining the
      transformation can be added as well.

    o Given the change above, the arguments of onebasis() and the list of
      arguments composing the arguments 'argvar' and 'arglag' in crossbasis()
      are now those of the called functions. In particular, the old usage is not
      guaranteed to work any more, and if it does a warning is reported.

    o The default knots placements for ns and bs functions for the lag dimension
      in crossbasis() is not at equally-spaced log-values as before, but at
      equally-spaced percentiles, consistently with the predictor space. The old
      default can be reproduced with the new function logknots().

    o Two new data sets included in the package, 'nested' and 'drug'. They are
      composed of simulated data on nested case-control and randomized
      controlled trial designs respectively.

    o The new function exphist() can be used to build matrices of exposure
      histories to be used in crosspred() to obtain specific predictions given
      an exposure profile.

    o The documentation of the package has beed extensively revised. The
      vignette 'dlnmOverview now provides a general introduction to the
      methodology and functions, while the two new vignettes 'dlnmTS' and
      'dlnmExtended' describes specific applications in time series design
      and in other study designs, respectively.

Minor changes
-------------

    o Basis matrices now keep names from original vector/matrix.

    o Argument 'lag' in crossbasis() now given default value depending on the
      format of the argument 'x'.

    o Summary method functions have been changed accordingly.

    o Internal functions .getcoef(), .getvcov() and .getlink() added within
      crosspred(0 tro extract coef, vcov and model link.

    o Internal functions .checkgroup(), .oldonebasis and .oldcrossbasis() for
      checks in onebasis() and crossbasis().

    o Print of summary.crossreduce() fixed.


==============================================================================
Changes in dlnm 1.6.8 (16 May 2013)
===================================

Minor changes
-------------

    o Resolved the dependency with package NMMAPSlite, now archived.

    o Bug fixed in crosspred() when specifying the 'lag' argument (thanks to
      Joseph Ogutu).


==============================================================================
Changes in dlnm 1.6.6 (05 Apr 2013)
===================================

Minor changes
-------------

    o Import from tsModel removed. An internal function .Lag has been created,
      using the code from the same function in tsModel written by Roger Peng.


==============================================================================
Changes in dlnm 1.6.5 (20 Jan 2013)
===================================

Minor changes
-------------

    o URL link added in Description file. Copyright statement added in each
      function.

    o Updated citations.

    o Documentation changed accordingly.


==============================================================================
Changes in dlnm 1.6.4 (22 Aug 2012)
===================================

Minor changes
-------------

    o Bug fixed in Description file.


==============================================================================
Changes in dlnm 1.6.3 (19 June 2012)
===================================

Major changes
-------------

    o Argument 'lag' included in crosspred() and crossreduce(), to define
      sub-periods of lag on which predict. Useful for computing overall
      cumulative effects on different portions of the lag period.

    o Second example in vignette about seasonal analysis has been corrected. Now
      the model includes also a term for trend, forgotten so far.

    o Terminology in documentation largely revised.

Minor changes
-------------

    o In onebasis(), now strata defined by 'bound', not range, and reported.

    o Bug fixed in names assignment to objects in crossreduce().

    o Bug fixed in crosspred() for argument 'bylag'.


==============================================================================
Changes in dlnm 1.6.2 (17 Apr 2012)
===================================

Major changes
-------------

    o Bug fixed in onebasis() regarding the argument 'cen'. Now cen=0 and 
      cen=FALSE do not return the same value, and in the former the centering
      is acknowledged by summary(). Thanks to Yasushi Honda.

Minor changes
-------------

    o Documentation changed accordingly.


==============================================================================
Changes in dlnm 1.6.1 (13 Apr 2012)
===================================

Major changes
-------------

    o Argument 'bylag' included in crosspred() and crossreduce() to define the
      sequence of lag values used for prediction. It does not apply to
      cumulative effects.

Minor changes
-------------

    o Documentation changed accordingly.


==============================================================================
Changes in dlnm 1.6.0 (26 Mar 2012)
===================================

Major changes
-------------

    o crossbasis() and crosspred() now accept as 'x' argument also a matrix of    
      exposure histories. The package now works also with non-time series data,
      for example cohort or case-control data. The documentation will be changed
      accordingly as soon as the methodological paper will be published.

Minor changes
-------------

    o onebasis() now accepts vectors/matrices for less than df+int observations.
      crosspred() and crossreduce() changed accordingly.


==============================================================================
Changes in dlnm 1.5.3 (21 Feb 2012)
===================================

Minor changes
-------------

    o Added as.vector(x) to constraint the type of first argument in onebasis().

    o Change in colnames(crossbasis).

    o Fixed bug in lines.crosspred() and points.crosspred()


==============================================================================
Changes in dlnm 1.5.2 (05 Jan 2012)
===================================

See also: file.show(system.file("Changesince151",package="dlnm"))

Major changes
-------------

    o New function onebasis() to create the 1-dimensional basis matrices. The 
      function is made available and documented. This replace mkbasis() and
      mklagbasis(), which are kept only for compatibility. The functions returns
      a matrix with attributes.

    o The usage of crossbasis() has been extensively revised. Now the function
      has 2 arguments var and lag with a list of arguments for each space. Also,
      maxlag has been replaced by lag, defining the lag range (min and max). Old
      usage has been kept (with a warning) for compatibility reasons. 

    o New function crossreduce() to reduce the fit to one of the 2 dimensions. 
      Methods functions (summary, plot, points, lines) are also included.
      
    o	crosspred() changed accordingly: now prediction also from simple basis,
      and computation based on faster new method in crossreduce().

    o Argument cenvalue eliminated from basis()-crossbasis(): centering now
      entirily determined by cen, which can be logical or numeric.
	
Minor changes
-------------

    o Bug fixed in onebasis() (previously mkbasis()) for type hthr-lthr.

    o Internal functions included: .onAttach() and .fci().

    o coef and vcov methods for crosspred() and crossreduce().

    o	In onebasis()-crossbasis(): bound and cen argument now with no default.
      degree=3 returned now for type='ns', similarly to the original function.

    o In plot functions: changed default of ptype, added default titles.

    o In plots and documentation: effects changed to outcome-association.

    o Documentation and examples changed accondingly with changes above.


==============================================================================
Changes in dlnm 1.4.2
=======================

Minor changes
-------------

    o Partial matching fixed in mkbasis() and plot.crosspred().


==============================================================================
Changes in dlnm 1.4.1
=======================

Minor changes
-------------

    o	Reference added in vignette, citation and help pages.


==============================================================================
Changes in dlnm 1.4.0
=======================

Major changes
-------------

    o	Argument 'ci.arg' added to plotting functions. Now it is possible to 
	    (almost) completely specify the confidence intervals display.

    o	onAttach function added, to display a message when the package is
	    attached.

    o	Dependencies revised: splines excluded from Depends, and accordingly
	    library(splines) included in examples and vignette. Also excluded 
	    graphics and stats, already imported.
	
Minor changes
-------------

    o	Documentation and examples changed accondingly.


==============================================================================
Changes in dlnm 1.3.2
=======================

Minor changes
-------------

    o	Argument 'group' of crossbasis() forced to define consecutive
	    series. Documentation changed accordingly.


==============================================================================
Changes in dlnm 1.3.1
=======================

Major changes
-------------

    o	Function crossplot() replaced by method functions plot(), lines()
    	and points() for class ?crosspred?. The user can now flexibly 
	    choose all the arguments through '...' to modify axes, colours,
	     labels etc.

    o	Arguments 'coef', 'vcov' and 'model.link' added to crosspred(), to
	    provide the user a way to manually include the parameters for 
	    models without methods for coef() and vcov().

    o	Improved routine for automatic selection of rounded values used for
	    prediction in crosspred() with 'at'-'from'-'to'-'by'.
	
Minor changes
-------------

    o	Included 'ci.level' in crosspred() and plot() method and 'ci="n"'
	    in plot() method for no confidence intervals.

    o	Improved model parameters extraction method in crosspred() through
	    regular expressions.

    o	Added class "matrix" to crossbasis objects.

    o	Included summary.crosspred().

    o	Added lazyData to description file.

    o	Improved coherence checks in functions and centering in mkbasis().

    o	A detailed description of the functions added in the vignette.

    o	Help pages, vignette and citation changes accordingly.


==============================================================================
Changes in dlnm 1.2.4
=======================

Major changes
-------------

    o	mkbasis substantially revised: now 'int' unrelated to df,
    	then relation 'type'-'df'-'int' more logical.


==============================================================================
Changes in dlnm 1.2.3
=======================

Minor changes
-------------

    o	Updated reference.


==============================================================================
Changes in dlnm 1.2.2
=======================

Minor changes
-------------

    o	Bug in crosspred() for vcov-coef: fixed.


==============================================================================
Changes in dlnm 1.2.1
=======================

Minor changes
-------------

    o	Bug in crosspred() with cumul=T: fixed.

    o	Error in regression commands for crosspred(): fixed.

    o	Help pages and citation changed accordingly.


==============================================================================
Changes in dlnm 1.2.0
=======================

Major changes
-------------

    o	New argument 'group' in crossbasis() to generate functions for
    	each sub-group defined by the factor.

    o	crosspred() now works also with lm, gam (mgcv), gee (geepack),
    	clogit and coxph (survival).

    o	change in mkbasis: now knots also outside range, but for types
    	"strata" and "-thr" there's the chance to generate collinear
    	variables: included a warning in help for crossbasis().

    o	Vignette 'dlnmOverview" rearranged with new examples, one of 
    	them on seasonal analysis. Reference to new paper Gasparrini
    	2010 Stat Med.

Minor changes
-------------

    o	Help pages and citation changed accordingly.


==============================================================================
Changes in dlnm 1.1.1
=======================

Minor changes
-------------

    o	Bug in mkbasis() with 'type="strata"': fixed.


==============================================================================
Changes in dlnm 1.1.0
=======================

Major changes
-------------

    o	The estimate of the cumulative effects along lags has been
    	included in crosspred() and can be plotted with crossplot()
    	setting 'cumul=T'.

    o	The confidence intervals for 'type' equal to "slices" or
    	"overall" can be now represented both by "area" (default),
    	"bars" or "lines", by the argument 'ci' in crossplot().

Minor changes
-------------

    o	Help pages, examples and vignette changed accordingly.


==============================================================================
Changes in dlnm 1.0.2
=======================

Minor changes
-------------

    o	Some html links giving warnings have been fixed.


==============================================================================
Changes in dlnm 1.0.1
=======================

Major changes
-------------

    o	The dataset chicagoNMMAPS has been added, relaxing the dependence
    	on the package NMMAPSlite. Now the examples can be run using
    	these data and without an internet connection.

    o	The function crosspred() has been improved: now there is no
    	constraint on the range of the predicted values. Moreover, the
    	values 'model.class' and 'model.link' have been added. The
    	command now works also when the estimation is carried out by
    	'clogit()'.

Minor changes
-------------

    o	The section 'Functions' in the vignette 'dlnmOverview' has been
    	reduced: a reference to the functions help pages has been added.

    o	Help pages, examples and vignette changed accordingly.


==============================================================================
Changes in dlnm 0.4.1
=======================

Major changes
-------------

    o	The argument 'degree' included in mkbasis()-crossbasis(),
    	defining the degree of the unconstrained B-spline ('type' equal 
    	to 'bs') or the maximum power of the polynomial ('type' equal to 
    	'poly').

    o	Linear piecewise function above a threshold included for
    	type='hthr'/'lthr'; added an example in help pages and vignette.

Improvements
------------

    o	Automatic knot selection also for thr-type functions

    o	New example related to the changes above in the help pages and
     	in the vignette

    o	Improved error messages in mkbasis() and mklagbasis()

Fixed bugs
----------

    o	Choices and error messages in mkbasis() and mklagbasis()

Minor changes
-------------

    o	Double threshold type changed from 'thr' to 'dthr'; added an
     	error message in mkbasis() to explain the change.

    o	For type='dthr', knots choice when more than 2 changed from first
     	two to first and last ones. 

    o	Basis choices changed in example3 in order to show a quadratic
     	spline.

    o	Examples for mkbasis()-mklagbasis() expanded in help pages and
     	vignette.

    o	Help pages, examples and vignette changed accordingly.


==============================================================================
Changes in dlnm 0.3.0
=======================

Major changes
-------------

    o	A contour/level plot has been added to crossplot().

    o	The option 'bs' has been added to the argument 'type' of
    	mkbasis()-crossbasis(), to specify a cubic spline without
    	natural constraints.

Improvements
------------

    o	Argument 'ylim' added for 'type="3d"'.

Minor changes
-------------

    o	Minor bugs fixed in mkbasis() and mklagbasis().

    o	Typing errors fixed in vignette 'dlnmOverview'.

    o	Help pages, examples and vignette changed accordingly.

Corrections
-----------

    o	Original series of pollutants in NNMAPS data given by *tmean
    	and *mtrend, not *mean and *trend. Corrected


==============================================================================
Changes in dlnm 0.2.1
=======================

Fixed bugs
----------

    o	par options in crossplot()

    o	titles for 'slices' in crossplot()


==============================================================================
Changes in dlnm 0.2.0
=======================

Major changes
-------------

    o	The package vignette 'dlnmOverview' has been added.

Improvements
------------

    o	Intercept added to type equal to 'thr', 'hthr', 'lhr', and 'lin'

    o	The vector 'predvar' of predictor values for which the prediction
     	must be performed, included in crosspred(), is now automatically
    	ordered and made unique.

Fixed bugs
----------

    o	Two links to mkbasis() and mklagbasis() added to the help of
    	crossbasis() in order to let the internal functions help page
    	available

    o	par(par.old) included in 'type="slices"' for crossplot() in order
     	to redifine a single plot after the command

    o	Error messages added to mkbasis() if argument types are wrong

Minor changes
-------------

    o	Default value for argument 'lagbound' of crossbasis() changed
     	from	c(-1,maxlag) to c(0,maxlag).

    o	Help pages changed accordingly with the new features.

    o	The example 2 (in crosspred()) the threshold has been set to
     	40.3, in order to show the ordering functionality.


==============================================================================
First version in R CRAN dlnm 0.1.0
==============================================================================

